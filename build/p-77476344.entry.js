import{r as t,c as e,h as n,H as i,g as a,a as r,d as o}from"./p-a7bcab11.js";import{r as s,N as c,c as l,e as h,A as d}from"./p-18586bed.js";import{g as u,a as p,c as m,b,d as g,e as f}from"./p-78e655d3.js";import{c as v,g as k,t as w}from"./p-b71772f1.js";import{s as y,r as x}from"./p-5d32b837.js";import{u as _}from"./p-f7a69c8c.js";import{c as z,d as E,g as O}from"./p-aafb07bb.js";import{s as T,a as S,c as D}from"./p-ac486437.js";import{c as C,d as P}from"./p-5a1554f1.js";import{c as I}from"./p-ccbfda19.js";import{c as j,d as A,s as R,u as U}from"./p-d1f47aa9.js";import{g as $}from"./p-3b3bc7ac.js";import{A as L}from"./p-42a930c3.js";import"./p-267d48f6.js";import"./p-86912c0a.js";const M=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g"),N=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),H=t=>t.replace(/([=!:$/()])/g,"\\$1"),q=t=>t&&t.sensitive?"":"i",F=(t,e,n)=>{for(var i=(n=n||{}).strict,a=!1!==n.end,r=N(n.delimiter||"/"),o=n.delimiters||"./",s=[].concat(n.endsWith||[]).map(N).concat("$").join("|"),c="",l=!1,h=0;h<t.length;h++){var d=t[h];if("string"==typeof d)c+=N(d),l=h===t.length-1&&o.indexOf(d[d.length-1])>-1;else{var u=N(d.prefix||""),p=d.repeat?"(?:"+d.pattern+")(?:"+u+"(?:"+d.pattern+"))*":d.pattern;e&&e.push(d),c+=d.optional?d.partial?u+"("+p+")?":"(?:"+u+"("+p+"))?":u+"("+p+")"}}return a?(i||(c+="(?:"+r+")?"),c+="$"===s?"$":"(?="+s+")"):(i||(c+="(?:"+r+"(?="+s+"))?"),l||(c+="(?="+r+"|"+s+")")),new RegExp("^"+c,q(n))},G=(t,e,n)=>t instanceof RegExp?((t,e)=>{if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t})(t,e):Array.isArray(t)?((t,e,n)=>{for(var i=[],a=0;a<t.length;a++)i.push(G(t[a],e,n).source);return new RegExp("(?:"+i.join("|")+")",q(n))})(t,e,n):((t,e,n)=>F(((t,e)=>{for(var n,i=[],a=0,r=0,o="",s=e&&e.delimiter||"/",c=e&&e.delimiters||"./",l=!1;null!==(n=M.exec(t));){var h=n[0],d=n[1],u=n.index;if(o+=t.slice(r,u),r=u+h.length,d)o+=d[1],l=!0;else{var p="",m=t[r],b=n[2],g=n[3],f=n[4],v=n[5];if(!l&&o.length){var k=o.length-1;c.indexOf(o[k])>-1&&(p=o[k],o=o.slice(0,k))}o&&(i.push(o),o="",l=!1);var w=p||s,y=g||f;i.push({name:b||a++,prefix:p,delimiter:w,optional:"?"===v||"*"===v,repeat:"+"===v||"*"===v,partial:""!==p&&void 0!==m&&m!==p,pattern:y?H(y):"[^"+N(w)+"]+?"})}}return(o||r<t.length)&&i.push(o+t.substr(r)),i})(t,n),e,n))(t,e,n),W=(t,e)=>new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t),J=(t,e)=>W(t,e)?t.substr(e.length):t,B=t=>"/"===t.charAt(t.length-1)?t.slice(0,-1):t,X=t=>"/"===t.charAt(0)?t:"/"+t,V=t=>"/"===t.charAt(0)?t.substr(1):t,Y=t=>{const{pathname:e,search:n,hash:i}=t;let a=e||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:`?${n}`),i&&"#"!==i&&(a+="#"===i.charAt(0)?i:`#${i}`),a},Q=t=>"/"===t.charAt(0),K=t=>Math.random().toString(36).substr(2,t),Z=(t,e)=>{for(let n=e,i=n+1,a=t.length;i<a;n+=1,i+=1)t[n]=t[i];t.pop()},tt=(t,e)=>{if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(((t,n)=>tt(t,e[n])));const n=typeof t;if(n!==typeof e)return!1;if("object"===n){const n=t.valueOf(),i=e.valueOf();if(n!==t||i!==e)return tt(n,i);const a=Object.keys(t),r=Object.keys(e);return a.length===r.length&&a.every((n=>tt(t[n],e[n])))}return!1},et=(t,e,n,i)=>{let a;"string"==typeof t?(a=(t=>{let e=t||"/",n="",i="";const a=e.indexOf("#");-1!==a&&(i=e.substr(a),e=e.substr(0,a));const r=e.indexOf("?");return-1!==r&&(n=e.substr(r),e=e.substr(0,r)),{pathname:e,search:"?"===n?"":n,hash:"#"===i?"":i,query:{},key:""}})(t),void 0!==e&&(a.state=e)):(a=Object.assign({pathname:""},t),a.search&&"?"!==a.search.charAt(0)&&(a.search="?"+a.search),a.hash&&"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash),void 0!==e&&void 0===a.state&&(a.state=e));try{a.pathname=decodeURI(a.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}var r;return a.key=n,i?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=((t,e="")=>{let n,i=e&&e.split("/")||[],a=0;const r=t&&t.split("/")||[],o=t&&Q(t),s=e&&Q(e),c=o||s;if(t&&Q(t)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){const t=i[i.length-1];n="."===t||".."===t||""===t}else n=!1;for(let t=i.length;t>=0;t--){const e=i[t];"."===e?Z(i,t):".."===e?(Z(i,t),a++):a&&(Z(i,t),a--)}if(!c)for(;a--;a)i.unshift("..");!c||""===i[0]||i[0]&&Q(i[0])||i.unshift("");let l=i.join("/");return n&&"/"!==l.substr(-1)&&(l+="/"),l})(a.pathname,i.pathname)):a.pathname=i.pathname:a.pathname||(a.pathname="/"),a.query=(r=a.search||"")?(/^[?#]/.test(r)?r.slice(1):r).split("&").reduce(((t,e)=>{let[n,i]=e.split("=");return t[n]=i?decodeURIComponent(i.replace(/\+/g," ")):"",t}),{}):{},a};let nt=0;const it={},at=(t,e={})=>{"string"==typeof e&&(e={path:e});const{path:n="/",exact:i=!1,strict:a=!1}=e,{re:r,keys:o}=((t,e)=>{const n=`${e.end}${e.strict}`,i=it[n]||(it[n]={}),a=JSON.stringify(t);if(i[a])return i[a];const r=[],o={re:G(t,r,e),keys:r};return nt<1e4&&(i[a]=o,nt+=1),o})(n,{end:i,strict:a}),s=r.exec(t);if(!s)return null;const[c,...l]=s,h=t===c;return i&&!h?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:h,params:o.reduce(((t,e,n)=>(t[e.name]=l[n],t)),{})}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var rt=function(){return(rt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function ot(t,e){var n=e;return n.rawResponse=!1,s(t,n).then((function(t){var e={token:t.access_token,username:t.username,expires:new Date(Date.now()+(1e3*t.expires_in-1e3)),ssl:!0===t.ssl};return t.refresh_token&&(e.refreshToken=t.refresh_token),e}))}function st(t,e){var n=e;return n.params.referer="undefined"!=typeof window&&window.location&&window.location.host?window.location.host:c,s(t,n)}var ct=/^https?:\/\/(\S+)\.arcgis\.com.+/;function lt(t){return ct.test(t)}function ht(t){if(!ct.test(t))return null;var e=t.match(ct)[1].split(".").pop();return e.includes("dev")?"dev":e.includes("qa")?"qa":"production"}var dt=function(){function t(t){if(this.clientId=t.clientId,this._refreshToken=t.refreshToken,this._refreshTokenExpires=t.refreshTokenExpires,this.username=t.username,this.password=t.password,this._token=t.token,this._tokenExpires=t.tokenExpires,this.portal=t.portal?l(t.portal):"https://www.arcgis.com/sharing/rest",this.ssl=t.ssl,this.provider=t.provider||"arcgis",this.tokenDuration=t.tokenDuration||20160,this.redirectUri=t.redirectUri,this.refreshTokenTTL=t.refreshTokenTTL||20160,this.server=t.server,this.federatedServers={},this.trustedDomains=[],t.server){var e=this.getServerRootUrl(t.server);this.federatedServers[e]={token:t.token,expires:t.tokenExpires}}this._pendingTokenRequests={}}return Object.defineProperty(t.prototype,"token",{get:function(){return this._token},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tokenExpires",{get:function(){return this._tokenExpires},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this._refreshToken},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshTokenExpires",{get:function(){return this._refreshTokenExpires},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trustedServers",{get:function(){return console.log("DEPRECATED: use federatedServers instead"),this.federatedServers},enumerable:!1,configurable:!0}),t.beginOAuth2=function(e,n){void 0===n&&(n=window),e.duration&&console.log("DEPRECATED: 'duration' is deprecated - use 'expiration' instead");var i,a=rt({portal:"https://www.arcgis.com/sharing/rest",provider:"arcgis",expiration:20160,popup:!0,popupWindowFeatures:"height=400,width=600,menubar=no,location=yes,resizable=yes,scrollbars=yes,status=yes",state:e.clientId,locale:""},e),r=a.portal,o=a.provider,s=a.clientId,c=a.expiration,l=a.redirectUri,u=a.popup,p=a.popupWindowFeatures,m=a.state,b=a.locale,g=a.params;if(i="arcgis"===o?r+"/oauth2/authorize?client_id="+s+"&response_type=token&expiration="+(e.duration||c)+"&redirect_uri="+encodeURIComponent(l)+"&state="+m+"&locale="+b:r+"/oauth2/social/authorize?client_id="+s+"&socialLoginProviderName="+o+"&autoAccountCreateForSocial=true&response_type=token&expiration="+(e.duration||c)+"&redirect_uri="+encodeURIComponent(l)+"&state="+m+"&locale="+b,g&&(i=i+"&"+h(g)),u){var f,v=((f={promise:null,resolve:null,reject:null}).promise=new Promise((function(t,e){f.resolve=t,f.reject=e})),f);return n["__ESRI_REST_AUTH_HANDLER_"+s]=function(e,n){if(e){var i=JSON.parse(e);v.reject(new d(i.errorMessage,i.error))}else if(n){var a=JSON.parse(n);v.resolve(new t({clientId:s,portal:r,ssl:a.ssl,token:a.token,tokenExpires:new Date(a.expires),username:a.username}))}},n.open(i,"oauth-window",p),v.promise}n.location.href=i},t.completeOAuth2=function(e,n){void 0===n&&(n=window);var i=rt({portal:"https://www.arcgis.com/sharing/rest",popup:!0},e),a=i.portal,r=i.clientId,o=i.popup;function s(e,i){try{var s=void 0,c="__ESRI_REST_AUTH_HANDLER_"+r;if(o&&(n.opener?n.opener.parent&&n.opener.parent[c]?s=n.opener.parent[c]:n.opener&&n.opener[c]&&(s=n.opener[c]):n!==n.parent&&n.parent&&n.parent[c]&&(s=n.parent[c]),s))return s(e?JSON.stringify(e):void 0,JSON.stringify(i)),void n.close()}catch(t){throw new d('Unable to complete authentication. It\'s possible you specified popup based oAuth2 but no handler from "beginOAuth2()" present. This generally happens because the "popup" option differs between "beginOAuth2()" and "completeOAuth2()".')}if(e)throw new d(e.errorMessage,e.error);return new t({clientId:r,portal:a,ssl:i.ssl,token:i.token,tokenExpires:i.expires,username:i.username})}var c,l=!(c=n.location.hash)||c.length<=0?{}:c.replace(/^#/,"").replace(/^\?/,"").split("&").reduce(((t,e)=>{const{key:n,value:i}=function(t){const[e,n]=t.split("=");return{key:decodeURIComponent(e),value:decodeURIComponent(n)}}(e);return t[n]=i,t}),{});if(!l.access_token){var h=void 0,u="Unknown error";return l.error&&(h=l.error,u=l.error_description),s({error:h,errorMessage:u})}return s(void 0,{token:l.access_token,expires:new Date(Date.now()+1e3*parseInt(l.expires_in,10)-6e4),ssl:"true"===l.ssl,username:l.username})},t.fromParent=function(e,n){var i;return!n&&window&&(n=window),new Promise((function(a,r){n.addEventListener("message",i=function(e){if(e.source===n.parent&&e.data)try{return a(t.parentMessageHandler(e))}catch(t){return r(t)}},!1),n.parent.postMessage({type:"arcgis:auth:requestCredential"},e)})).then((function(t){return n.removeEventListener("message",i,!1),t}))},t.authorize=function(t,e){t.duration&&console.log("DEPRECATED: 'duration' is deprecated - use 'expiration' instead");var n=rt({portal:"https://arcgis.com/sharing/rest",expiration:20160},t);e.writeHead(301,{Location:n.portal+"/oauth2/authorize?client_id="+n.clientId+"&expiration="+(t.duration||n.expiration)+"&response_type=code&redirect_uri="+encodeURIComponent(n.redirectUri)}),e.end()},t.exchangeAuthorizationCode=function(e,n){var i=rt({portal:"https://www.arcgis.com/sharing/rest",refreshTokenTTL:20160},e),a=i.portal,r=i.clientId,o=i.redirectUri,s=i.refreshTokenTTL;return ot(a+"/oauth2/token",{params:{grant_type:"authorization_code",client_id:r,redirect_uri:o,code:n}}).then((function(e){return new t({clientId:r,portal:a,ssl:e.ssl,redirectUri:o,refreshToken:e.refreshToken,refreshTokenTTL:s,refreshTokenExpires:new Date(Date.now()+60*(s-1)*1e3),token:e.token,tokenExpires:e.expires,username:e.username})}))},t.deserialize=function(e){var n=JSON.parse(e);return new t({clientId:n.clientId,refreshToken:n.refreshToken,refreshTokenExpires:new Date(n.refreshTokenExpires),username:n.username,password:n.password,token:n.token,tokenExpires:new Date(n.tokenExpires),portal:n.portal,ssl:n.ssl,tokenDuration:n.tokenDuration,redirectUri:n.redirectUri,refreshTokenTTL:n.refreshTokenTTL})},t.fromCredential=function(e){var n=void 0===e.ssl||e.ssl,i=e.expires||Date.now()+72e5;return new t({portal:e.server.includes("sharing/rest")?e.server:e.server+"/sharing/rest",ssl:n,token:e.token,username:e.userId,tokenExpires:new Date(i)})},t.parentMessageHandler=function(e){if("arcgis:auth:credential"===e.data.type)return t.fromCredential(e.data.credential);if("arcgis:auth:error"===e.data.type){var n=new Error(e.data.error.message);throw n.name=e.data.error.name,n}throw new Error("Unknown message type.")},t.prototype.toCredential=function(){return{expires:this.tokenExpires.getTime(),server:this.portal,ssl:this.ssl,token:this.token,userId:this.username}},t.prototype.getUser=function(t){var e=this;if(this._pendingUserRequest)return this._pendingUserRequest;if(this._user)return Promise.resolve(this._user);var n=this.portal+"/community/self",i=rt(rt({httpMethod:"GET",authentication:this},t),{rawResponse:!1});return this._pendingUserRequest=s(n,i).then((function(t){return e._user=t,e._pendingUserRequest=null,t})),this._pendingUserRequest},t.prototype.getPortal=function(t){var e=this;if(this._pendingPortalRequest)return this._pendingPortalRequest;if(this._portalInfo)return Promise.resolve(this._portalInfo);var n=this.portal+"/portals/self",i=rt(rt({httpMethod:"GET",authentication:this},t),{rawResponse:!1});return this._pendingPortalRequest=s(n,i).then((function(t){return e._portalInfo=t,e._pendingPortalRequest=null,t})),this._pendingPortalRequest},t.prototype.getUsername=function(){return this.username?Promise.resolve(this.username):this._user?Promise.resolve(this._user.username):this.getUser().then((function(t){return t.username}))},t.prototype.getToken=function(t,e){return i=t,a=lt(n=this.portal),r=lt(i),o=ht(n),s=ht(i),a&&r&&o===s||new RegExp(this.portal,"i").test(t)?this.getFreshToken(e):this.getTokenForServer(t,e);var n,i,a,r,o,s},t.prototype.validateAppAccess=function(t){return this.getToken(this.portal).then((function(e){return function(t,e,n){return void 0===n&&(n="https://www.arcgis.com/sharing/rest"),s(n+"/oauth2/validateAppAccess",{method:"POST",params:{f:"json",client_id:e,token:t}})}(e,t)}))},t.prototype.toJSON=function(){return{clientId:this.clientId,refreshToken:this.refreshToken,refreshTokenExpires:this.refreshTokenExpires,username:this.username,password:this.password,token:this.token,tokenExpires:this.tokenExpires,portal:this.portal,ssl:this.ssl,tokenDuration:this.tokenDuration,redirectUri:this.redirectUri,refreshTokenTTL:this.refreshTokenTTL}},t.prototype.serialize=function(){return JSON.stringify(this)},t.prototype.enablePostMessageAuth=function(t,e){!e&&window&&(e=window),this._hostHandler=this.createPostMessageHandler(t),e.addEventListener("message",this._hostHandler,!1)},t.prototype.disablePostMessageAuth=function(t){!t&&window&&(t=window),t.removeEventListener("message",this._hostHandler,!1)},t.prototype.refreshSession=function(t){return this._user=null,this.username&&this.password?this.refreshWithUsernameAndPassword(t):this.clientId&&this.refreshToken?this.refreshWithRefreshToken():Promise.reject(new d("Unable to refresh token."))},t.prototype.getServerRootUrl=function(t){var e=l(t).split(/\/rest(\/admin)?\/services(?:\/|#|\?|$)/)[0].match(/(https?:\/\/)(.+)/),n=e[1],i=e[2].split("/"),a=i[0],r=i.slice(1);return""+n+a.toLowerCase()+"/"+r.join("/")},t.prototype.getDomainCredentials=function(t){return this.trustedDomains&&this.trustedDomains.length&&this.trustedDomains.some((function(e){return t.startsWith(e)}))?"include":"same-origin"},t.prototype.createPostMessageHandler=function(t){var e=this;return function(n){var i=t.indexOf(n.origin)>-1,a="arcgis:auth:requestCredential"===n.data.type,r=e.tokenExpires.getTime()>Date.now();if(i&&a){var o={};if(r){var s=e.toCredential();s.server=s.server.replace("/sharing/rest",""),o={type:"arcgis:auth:credential",credential:s}}else o={type:"arcgis:auth:error",error:{name:"tokenExpiredError",message:"Session token was expired, and not returned to the child application"}};n.source.postMessage(o,n.origin)}}},t.prototype.getTokenForServer=function(t,e){var n=this,i=this.getServerRootUrl(t),a=this.federatedServers[i];return a&&a.expires&&a.expires.getTime()>Date.now()?Promise.resolve(a.token):(this._pendingTokenRequests[i]||(this._pendingTokenRequests[i]=this.fetchAuthorizedDomains().then((function(){return s(i+"/rest/info",{credentials:n.getDomainCredentials(t)}).then((function(a){if(a.owningSystemUrl){if(r=a.owningSystemUrl,o=l(function(t){if(!ct.test(t))return t;switch(ht(t)){case"dev":return"https://devext.arcgis.com/sharing/rest";case"qa":return"https://qaext.arcgis.com/sharing/rest";default:return"https://www.arcgis.com/sharing/rest"}}(n.portal)).replace(/https?:\/\//,""),c=l(r).replace(/https?:\/\//,""),new RegExp(c,"i").test(o))return s(a.owningSystemUrl+"/sharing/rest/info",e);throw new d(t+" is not federated with "+n.portal+".","NOT_FEDERATED")}var r,o,c;if(a.authInfo&&void 0!==n.federatedServers[i])return Promise.resolve({authInfo:a.authInfo});throw new d(t+" is not federated with any portal and is not explicitly trusted.","NOT_FEDERATED")})).then((function(t){return t.authInfo.tokenServicesUrl})).then((function(e){return n.token&&n.tokenExpires.getTime()>Date.now()?st(e,{params:{token:n.token,serverUrl:t,expiration:n.tokenDuration,client:"referer"}}):st(e,{params:{username:n.username,password:n.password,expiration:n.tokenDuration,client:"referer"}}).then((function(t){return n._token=t.token,n._tokenExpires=new Date(t.expires),t}))})).then((function(t){return n.federatedServers[i]={expires:new Date(t.expires),token:t.token},delete n._pendingTokenRequests[i],t.token}))}))),this._pendingTokenRequests[i])},t.prototype.getFreshToken=function(t){var e=this;return this.token&&!this.tokenExpires||this.token&&this.tokenExpires&&this.tokenExpires.getTime()>Date.now()?Promise.resolve(this.token):(this._pendingTokenRequests[this.portal]||(this._pendingTokenRequests[this.portal]=this.refreshSession(t).then((function(t){return e._pendingTokenRequests[e.portal]=null,t.token}))),this._pendingTokenRequests[this.portal])},t.prototype.refreshWithUsernameAndPassword=function(t){var e=this,n=rt({params:{username:this.username,password:this.password,expiration:this.tokenDuration}},t);return st(this.portal+"/generateToken",n).then((function(t){return e._token=t.token,e._tokenExpires=new Date(t.expires),e}))},t.prototype.refreshWithRefreshToken=function(t){var e=this;if(this.refreshToken&&this.refreshTokenExpires&&this.refreshTokenExpires.getTime()<Date.now())return this.refreshRefreshToken(t);var n=rt({params:{client_id:this.clientId,refresh_token:this.refreshToken,grant_type:"refresh_token"}},t);return ot(this.portal+"/oauth2/token",n).then((function(t){return e._token=t.token,e._tokenExpires=t.expires,e}))},t.prototype.refreshRefreshToken=function(t){var e=this,n=rt({params:{client_id:this.clientId,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,grant_type:"exchange_refresh_token"}},t);return ot(this.portal+"/oauth2/token",n).then((function(t){return e._token=t.token,e._tokenExpires=t.expires,e._refreshToken=t.refreshToken,e._refreshTokenExpires=new Date(Date.now()+60*(e.refreshTokenTTL-1)*1e3),e}))},t.prototype.fetchAuthorizedDomains=function(){var t=this;return this.server||!this.portal?Promise.resolve(this):this.getPortal().then((function(e){return e.authorizedCrossOriginDomains&&e.authorizedCrossOriginDomains.length&&(t.trustedDomains=e.authorizedCrossOriginDomains.filter((function(t){return!t.startsWith("http://")})).map((function(t){return t.startsWith("https://")?t:"https://"+t}))),t}))},t}();let ut=class{constructor(n){t(this,n),this.arcgisAppIdentityStartSignIn=e(this,"arcgisAppIdentityStartSignIn",7),this.arcgisAppIdentityStartSignOut=e(this,"arcgisAppIdentityStartSignOut",7)}handleSignedIn(t){const{detail:e}=t;this.loggedIn=!0,this.context=e}handleSignedOut(){this.loggedIn=!1,this.context=void 0}componentWillLoad(){const t=window.location.href.match(/&state=([^&]+)/);if(t){const e=t[1];let n;window.location.href="./",n=dt.completeOAuth2({clientId:e}),localStorage.setItem("__ARCGIS_REST_USER_SESSION__",n.serialize())}}handleSignIn(){this.arcgisAppIdentityStartSignIn.emit()}handleSignOut(){this.arcgisAppIdentityStartSignOut.emit()}render(){const{context:t,loggedIn:e}=this;return n("div",null,n("header",null,n("stencil-route-link",{url:"/"},n("h1",null,"Discussions Playground")),e?n("calcite-button",{onClick:this.handleSignOut.bind(this)},"Sign out"):n("calcite-button",{onClick:this.handleSignIn.bind(this)},"Sign In")),n("main",null,n("stencil-router",{root:"/test-stencil-app-hosting/"},n("stencil-route-switch",{scrollTopOffset:0},n("stencil-route",{url:"/",component:"app-home",componentProps:{context:t,itemId:"8547cc0f47ad4be0a4e94ad6900cc6c5"},exact:!0}),n("stencil-route",{url:"/discussion/:item",component:"app-discussion-board",componentProps:{context:t}})))))}};var pt;ut.style="header.sc-app-root{background:#5851ff;color:white;height:56px;display:flex;align-items:center;box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26)}h1.sc-app-root{font-size:1.4rem;font-weight:500;color:#fff;padding:0 12px}",function(t){t[t.all=0]="all",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.off=5]="off"}(pt||(pt={}));class mt{static setLogLevel(t){this.logLevel=t}static log(t,...e){this.isLevelPermitted(pt.debug)&&console.log(t,...e)}static debug(t,...e){this.isLevelPermitted(pt.debug)&&console.debug(t,...e)}static info(t,...e){this.isLevelPermitted(pt.info)&&console.info(t,...e)}static warn(t,...e){this.isLevelPermitted(pt.warn)&&console.warn(t,...e)}static error(t,...e){this.isLevelPermitted(pt.error)&&console.error(t,...e)}static isLevelPermitted(t){return this.logLevel<=t}}function bt(t){let e;return t.match(/(qaext|\.mapsqa)\.arcgis.com/)?e="https://hubqa.arcgis.com":t.match(/(devext|\.mapsdevext)\.arcgis.com/)?e="https://hubdev.arcgis.com":t.match(/(www|\.maps)\.arcgis.com/)&&(e="https://hub.arcgis.com"),e}mt.logLevel=pt.off;class gt{constructor(t){this._portalUrl="https://www.arcgis.com",this.id=t.id,this._portalUrl=t.portalUrl,this._hubUrl=t.hubUrl,this._systemStatus=t.systemStatus,t.authentication&&(this._authentication=t.authentication),t.portalSelf&&(this._portalSelf=t.portalSelf),t.currentUser&&(this._currentUser=t.currentUser),t.properties&&(this._properties=t.properties)}get session(){return this._authentication}get isAuthenticated(){return!!this._authentication}get isAlphaOrg(){var t,e;let n=!1;const i=(null===(t=this._properties)||void 0===t?void 0:t.alphaOrgs)||[],a=null===(e=this._portalSelf)||void 0===e?void 0:e.id;return i.length&&a&&(n=i.includes(a)),n}get userRequestOptions(){if(this.isAuthenticated)return{authentication:this._authentication,portal:this.sharingApiUrl}}get requestOptions(){let t={portal:this.sharingApiUrl};return this.isAuthenticated&&(t={authentication:this._authentication,portal:this.sharingApiUrl}),t}get hubRequestOptions(){return{authentication:this.session,isPortal:this.isPortal,portalSelf:this.portal,hubApiUrl:this.hubUrl,portal:this.sharingApiUrl}}get portalUrl(){return this.isAuthenticated?this.isPortal||!this._portalSelf.urlKey?`https://${this._portalSelf.portalHostname}`:`https://${this._portalSelf.urlKey}.${this._portalSelf.customBaseUrl}`:this._portalUrl}get hubLicense(){return this.isPortal?"enterprise-sites":this.hubEnabled?"hub-premium":"hub-basic"}get systemStatus(){return this._systemStatus}get sharingApiUrl(){return`${this.portalUrl}/sharing/rest`}get hubUrl(){return this._hubUrl}get isPortal(){return this._portalSelf?this._portalSelf.isPortal:-1===this._portalUrl.indexOf("arcgis.com")}get discussionsServiceUrl(){if(this._hubUrl)return`${this._hubUrl}/api/discussions/v1`}get hubSearchServiceUrl(){if(this._hubUrl)return`${this._hubUrl}/api/v3/datasets`}get domainServiceUrl(){if(this._hubUrl)return`${this._hubUrl}/api/v3/domains`}get eventsConfig(){if(this._portalSelf)return u(this._portalSelf,"portalProperties.hub.settings.events")}get hubEnabled(){return p(this._portalSelf,"portalProperties.hub.enabled",!1)}get communityOrgId(){if(this._portalSelf)return u(this._portalSelf,"portalProperties.hub.settings.communityOrg.orgId")}get communityOrgHostname(){if(this._portalSelf)return u(this._portalSelf,"portalProperties.hub.settings.communityOrg.portalHostname")}get communityOrgUrl(){if(this.communityOrgHostname)return`https://${this.communityOrgHostname}`}get helperServices(){if(this._portalSelf)return this._portalSelf.helperServices}get currentUser(){return this._currentUser}get portal(){return this._portalSelf}get properties(){return this._properties}}class ft{constructor(t){this._portalUrl="https://www.arcgis.com",this._logLevel=pt.error,this.id=(new Date).getTime(),t.logLevel&&(this._logLevel=t.logLevel),mt.setLogLevel(this._logLevel),mt.debug(`ArcGISContextManager:ctor: Creating ${this.id}`),t.properties&&(this._properties=t.properties),t.authentication?(this._authentication=t.authentication,this._portalUrl=this._authentication.portal.replace("/sharing/rest",""),this._hubUrl=bt(this._portalUrl)):t.portalUrl?(this._portalUrl=t.portalUrl,this._hubUrl=bt(this._portalUrl)):this._hubUrl=bt(this._portalUrl),t.portal&&(this._portalSelf=m(t.portal)),t.currentUser&&(this._currentUser=m(t.currentUser)),t.systemStatus&&(this._systemStatus=t.systemStatus)}static async create(t={}){const e=new ft(t);return await e.initialize(),e}async setAuthentication(t){this._authentication=t,this._portalUrl=t.portal.replace("/sharing/rest",""),await this.initialize()}setProperties(t){this._properties=t,this._context=new gt(this.contextOpts)}clearAuthentication(){this._context.isPortal||(this._portalUrl=b(this._portalUrl)),this._authentication=null,this._portalSelf=null,this._currentUser=null,this._context=new gt(this.contextOpts)}get context(){return this._context}async initialize(){if(this._authentication&&(!this._portalSelf||!this._currentUser)){mt.debug(`ArcGISContextManager-${this.id}: Initializing`);const t=this._authentication.username,e=[g({authentication:this._authentication}),f({username:t,authentication:this._authentication})];try{const[t,n]=await Promise.all(e);this._portalSelf=t,this._currentUser=n,mt.debug(`ArcGISContextManager-${this.id}: received portalSelf and currentUser`)}catch(t){const e=`ArcGISContextManager could not fetch portal & user for "${this._authentication.username}" using ${this._authentication.portal}.`;throw mt.error(e),console.error(e),t}}this._systemStatus||(this._systemStatus=await function(t){let e=kt;return-1===t.indexOf("arcgis.com")&&(e=vt),Promise.resolve(e)}(this._portalUrl)),mt.debug(`ArcGISContextManager-${this.id}: updating context`),this._context=new gt(this.contextOpts)}get contextOpts(){const t={id:this.id,portalUrl:this._portalUrl,hubUrl:this._hubUrl,properties:this._properties,systemStatus:this._systemStatus};return this._authentication&&(t.authentication=this._authentication),this._portalSelf&&(t.portalSelf=this._portalSelf),this._currentUser&&(t.currentUser=this._currentUser),t}}const vt={discussions:"not-available",events:"not-available",initiatives:"not-available",items:"online",metrics:"not-available",notifications:"not-available",pages:"online",projects:"not-available",search:"online",sites:"online"},kt={discussions:"online",events:"online",initiatives:"online",items:"online",metrics:"online",notifications:"online",pages:"online",projects:"online",search:"online",sites:"online"};let wt=class{constructor(n){t(this,n),this.signInCompleted=e(this,"arcgisAppIdentitySignedIn",7),this.signOutCompleted=e(this,"arcgisAppIdentitySignedOut",7),this.popup=!0,this.persist=!0,this.portal="https://www.arcgis.com",this.mode="html"}get sharingApiUrl(){return`${this.portal}/sharing/rest`}async onSignInHandler(t){console.info(`app-identity: Caught start signin event. Using ${this.portal}, ${this.clientId}`,t);const e=await dt.beginOAuth2({clientId:this.clientId,redirectUri:this.redirectUri,portal:this.sharingApiUrl});this.contextManager=await ft.create({portalUrl:this.portal,authentication:e}),this.persist&&await function(t,e,n=window){n.localStorage&&n.localStorage.setItem(`__CONTEXT_${t}`,e.serialize())}(`__CONTEXT_${this.clientId}`,this.contextManager.context.session),console.info(`app-identity: sign-in complete: emitting ArcGISContext ${this.contextManager.id}`),this.signInCompleted.emit(this.contextManager.context)}async onSignOutHandler(){console.info(`app-identity: sign-out for ${this.contextManager.id}`),this.contextManager.clearAuthentication(),function(t,e=window){e.localStorage&&e.localStorage.removeItem(`__CONTEXT_${t}`)}(`__CONTEXT_${this.clientId}`),console.info(`app-identity: sign-out complete. ${this.contextManager.id} isAuthenticated? ${this.contextManager.context.isAuthenticated}`),this.signOutCompleted.emit(this.contextManager.context)}async componentWillLoad(){if(console.info("app-identity: componentWillLoad"),"html"===this.mode&&!this.contextManager){let t;console.info("app-identity: creating ArcGISContext based on attrs..."),this.persist&&(t=function(t,e=window){let n=null;if(e.localStorage){const i=e.localStorage.getItem(`__CONTEXT_${t}`);i&&(n=dt.deserialize(i))}return n}(`__CONTEXT_${this.clientId}`));const e={portalUrl:this.portal};t&&(e.authentication=t),this.contextManager=await ft.create(e),console.info("app-identity: created.")}}componentWillRender(){console.info("app-identity: componentWillRender"),this.contextManager.context.isAuthenticated&&"html"===this.mode&&(console.info("app-identity: rendered, emitting signInCompleted w ArcGISContext"),this.signInCompleted.emit(this.contextManager.context))}componentDidRender(){console.info("app-identity: componentDidRender"),this.contextManager.context.isAuthenticated&&"html"===this.mode&&(console.info("app-identity: rendered, emitting signInCompleted w ArcGISContext"),this.signInCompleted.emit(this.contextManager.context))}render(){return n(i,null,n("slot",null))}};wt.style=":host{display:block}",function(t){function e(t,e,n){throw new t("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+e+".",n)}"function"!=typeof t.requestSubmit&&(t.requestSubmit=function(t){t?(function(t,n){t instanceof HTMLElement||e(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==t.type||e(TypeError,"The specified element is not a submit button"),t.form==n||e(DOMException,"The specified element is not owned by this form element","NotFoundError")}(t,this),t.click()):((t=document.createElement("input")).type="submit",t.hidden=!0,this.appendChild(t),t.click(),this.removeChild(t))})}(HTMLFormElement.prototype);let yt=class{constructor(e){t(this,e),this.mutationObserver=I("mutation",(()=>this.updateHasContent())),this.handleClick=()=>{const{type:t}=this;this.href||("submit"===t?y(this):"reset"===t&&x(this))},this.alignment="center",this.appearance="solid",this.label=void 0,this.kind="brand",this.disabled=!1,this.href=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.loading=!1,this.name=void 0,this.rel=void 0,this.round=!1,this.scale="m",this.splitChild=!1,this.target=void 0,this.type="button",this.width="auto",this.messages=void 0,this.messageOverrides=void 0,this.hasContent=!1,this.hasLoader=!1,this.effectiveLocale="",this.defaultMessages=void 0}loadingChanged(t,e){t&&!e&&(this.hasLoader=!0),!t&&e&&window.setTimeout((()=>{this.hasLoader=!1}),300)}onMessagesChange(){}async connectedCallback(){C(this),j(this),this.hasLoader=this.loading,this.setupTextContentObserver(),z(this),this.formEl=v(this.el,"form")}disconnectedCallback(){var t;null===(t=this.mutationObserver)||void 0===t||t.disconnect(),E(this),P(this),A(this),this.formEl=null}async componentWillLoad(){T(this),this.updateHasContent(),await R(this)}componentDidLoad(){S(this)}componentDidRender(){_(this)}render(){const t=this.href?"a":"button",e=t,i=this.hasLoader?n("div",{class:"calcite-button--loader"},n("calcite-loader",{class:this.loading?"loading-in":"loading-out",inline:!0,label:this.messages.loading,scale:"l"===this.scale?"m":"s"})):null,a=!this.iconStart&&!this.iconEnd,r=n("calcite-icon",{class:{icon:!0,"icon--start":!0},flipRtl:"start"===this.iconFlipRtl||"both"===this.iconFlipRtl,icon:this.iconStart,scale:"l"===this.scale?"m":"s"}),o=n("calcite-icon",{class:{icon:!0,"icon--end":!0},flipRtl:"end"===this.iconFlipRtl||"both"===this.iconFlipRtl,icon:this.iconEnd,scale:"l"===this.scale?"m":"s"}),s=n("span",{class:"content"},n("slot",null));return n(e,{"aria-label":O(this),class:{"button-padding":a,"button-padding--shrunk":!a,"content--slotted":this.hasContent,"icon-start-empty":!this.iconStart,"icon-end-empty":!this.iconEnd},disabled:this.disabled||this.loading,href:"a"===t&&this.href,name:"button"===t&&this.name,onClick:this.handleClick,ref:t=>this.childEl=t,rel:"a"===t&&this.rel,tabIndex:this.disabled||this.loading?-1:null,target:"a"===t&&this.target,type:"button"===t&&this.type},i,this.iconStart?r:null,this.hasContent?s:null,this.iconEnd?o:null)}async setFocus(){var t;await D(this),null===(t=this.childEl)||void 0===t||t.focus()}effectiveLocaleChange(){U(this,this.effectiveLocale)}updateHasContent(){var t,e;const n=this.el.textContent.trim().length>0||this.el.childNodes.length>0;this.hasContent=1===this.el.childNodes.length&&"#text"===(null===(t=this.el.childNodes[0])||void 0===t?void 0:t.nodeName)?(null===(e=this.el.textContent)||void 0===e?void 0:e.trim().length)>0:n}setupTextContentObserver(){var t;null===(t=this.mutationObserver)||void 0===t||t.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}static get assetsDirs(){return["assets"]}get el(){return a(this)}static get watchers(){return{loading:["loadingChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}};yt.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host([disabled]){pointer-events:none;cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host{display:inline-block;inline-size:auto;vertical-align:middle}:host([round]){border-radius:50px}:host([round]) a,:host([round]) button{border-radius:50px}:host button,:host a{outline-color:transparent}:host button:focus,:host a:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}:host button,:host a{--calcite-button-content-margin-internal:0.5rem;--calcite-button-padding-x-internal:7px;--calcite-button-padding-y-internal:3px;padding-block:var(--calcite-button-padding-y-internal);padding-inline:var(--calcite-button-padding-x-internal);position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;align-items:center;justify-content:center;border-radius:0px;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);-webkit-text-decoration-line:none;text-decoration-line:none;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host button:hover,:host a:hover{-webkit-text-decoration-line:none;text-decoration-line:none}.content{display:flex;flex-basis:auto;margin-inline:var(--calcite-button-content-margin-internal)}.icon-start-empty .content{-webkit-margin-start:unset;margin-inline-start:unset}.icon-end-empty .content{-webkit-margin-end:unset;margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-content-margin-internal:0.75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-button-content-margin-internal:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{-webkit-margin-end:auto;margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{-webkit-margin-start:auto;margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{-webkit-margin-start:var(--calcite-button-content-margin-internal);margin-inline-start:var(--calcite-button-content-margin-internal)}.icon{position:relative;margin:0px;display:inline-flex;font-weight:var(--calcite-font-weight-normal);line-height:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([loading]){pointer-events:none}:host([loading]) button,:host([loading]) a{pointer-events:none;opacity:var(--calcite-ui-opacity-disabled)}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(0.5)}100%{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}100%{inline-size:0;opacity:0;transform:scale(0.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0px;transition:inline-size var(--calcite-internal-animation-timing-slow) ease-in-out, opacity var(--calcite-internal-animation-timing-slow) ease-in-out, transform var(--calcite-internal-animation-timing-slow) ease-in-out}.calcite-button--loader calcite-loader.loading-in{animation-name:loader-in;animation-duration:var(--calcite-internal-animation-timing-slow)}.calcite-button--loader calcite-loader.loading-out{animation-name:loader-out;animation-duration:var(--calcite-internal-animation-timing-slow)}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{-webkit-margin-end:var(--calcite-button-content-margin-internal);margin-inline-end:var(--calcite-button-content-margin-internal)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{border-width:1px;border-style:solid;border-color:transparent}:host([kind=brand]) button,:host([kind=brand]) a{background-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) button:focus,:host([kind=brand]) a:hover,:host([kind=brand]) a:focus{background-color:var(--calcite-ui-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{background-color:var(--calcite-ui-brand-press)}:host([kind=brand]) button calcite-loader,:host([kind=brand]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([kind=danger]) button,:host([kind=danger]) a{background-color:var(--calcite-ui-danger);color:var(--calcite-ui-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) button:focus,:host([kind=danger]) a:hover,:host([kind=danger]) a:focus{background-color:var(--calcite-ui-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{background-color:var(--calcite-ui-danger-press)}:host([kind=danger]) button calcite-loader,:host([kind=danger]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([kind=neutral]) button,:host([kind=neutral]) a{background-color:var(--calcite-ui-foreground-3);color:var(--calcite-ui-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) button:focus,:host([kind=neutral]) a:hover,:host([kind=neutral]) a:focus{background-color:var(--calcite-ui-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{background-color:var(--calcite-ui-foreground-1)}:host([kind=neutral]) button calcite-loader,:host([kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{color:var(--calcite-ui-text-inverse);background-color:var(--calcite-ui-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) button:focus,:host([kind=inverse]) a:hover,:host([kind=inverse]) a:focus{background-color:var(--calcite-ui-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{background-color:var(--calcite-ui-inverse-press)}:host([kind=inverse]) button calcite-loader,:host([kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-inverse)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{border-width:1px;border-style:solid;background-color:var(--calcite-ui-foreground-1);box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{border-color:var(--calcite-ui-brand);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{border-color:var(--calcite-ui-danger);background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button calcite-loader,:host([appearance=outline-fill][kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{background-color:var(--calcite-ui-foreground-1);color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{border-color:var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=outline-fill][kind=inverse]) button calcite-loader,:host([appearance=outline-fill][kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline]) button,:host([appearance=outline]) a{border-width:1px;border-style:solid;background-color:transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{border-color:var(--calcite-ui-brand);background-color:transparent;color:var(--calcite-ui-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{border-color:var(--calcite-ui-brand-hover);color:var(--calcite-ui-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-brand);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{border-color:var(--calcite-ui-brand-press);color:var(--calcite-ui-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{border-color:var(--calcite-ui-danger);background-color:transparent;color:var(--calcite-ui-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{border-color:var(--calcite-ui-danger-hover);color:var(--calcite-ui-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{border-color:var(--calcite-ui-danger);color:var(--calcite-ui-danger);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{border-color:var(--calcite-ui-danger-press);color:var(--calcite-ui-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{background-color:transparent;color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-border-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-3)}:host([appearance=outline][kind=neutral]) button calcite-loader,:host([appearance=outline][kind=neutral]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{background-color:transparent;color:var(--calcite-ui-text-1);border-color:var(--calcite-ui-inverse)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{border-color:var(--calcite-ui-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-ui-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{border-color:var(--calcite-ui-inverse);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{border-color:var(--calcite-ui-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-ui-inverse-press)}:host([appearance=outline][kind=inverse]) button calcite-loader,:host([appearance=outline][kind=inverse]) a calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:transparent}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) button:focus,:host([appearance=transparent]:not(.enable-editing-button)) a:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:focus{background-color:var(--calcite-button-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-button-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{color:var(--calcite-ui-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{color:var(--calcite-ui-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{color:var(--calcite-ui-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{color:var(--calcite-ui-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{color:var(--calcite-ui-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{color:var(--calcite-ui-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{color:var(--calcite-ui-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{border-block-start-width:1px;border-block-end-width:1px;color:var(--calcite-ui-text-3);border-block-start-color:var(--calcite-ui-border-input);border-block-end-color:var(--calcite-ui-border-input);border-block-style:solid}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:not(.content--slotted){--calcite-button-padding-y-internal:0}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{color:var(--calcite-ui-text-1)}:host([appearance=transparent][kind=neutral].enable-editing-button) button{background-color:transparent}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button,:host([appearance=transparent][kind=inverse]) a,:host([appearance=transparent][kind=inverse]) calcite-loader{color:var(--calcite-ui-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-button-padding-y-internal:3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-button-padding-x-internal:11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-padding-y-internal:7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-button-padding-x-internal:15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-button-padding-x-internal:1rem;--calcite-button-padding-y-internal:11px}:host([scale=l]) .button-padding--shrunk{--calcite-button-padding-y-internal:9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y-internal:0.625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{-webkit-margin-start:1rem;margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:2.75rem}";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */
const xt={},_t={},zt={s:16,m:24,l:32};
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.5
 */let Et=class{constructor(e){t(this,e),this.icon=null,this.flipRtl=!1,this.scale="m",this.textLabel=void 0,this.pathData=void 0,this.visible=!1}connectedCallback(){this.waitUntilVisible((()=>{this.visible=!0,this.loadIconPathData()}))}disconnectedCallback(){var t;null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),this.intersectionObserver=null}async componentWillLoad(){this.loadIconPathData()}render(){const{el:t,flipRtl:e,pathData:a,scale:r,textLabel:o}=this,s=k(t),c=zt[r],l=!!o,h=[].concat(a||"");return n(i,{"aria-hidden":w(!l),"aria-label":l?o:null,role:l?"img":null},n("svg",{"aria-hidden":"true",class:{"flip-rtl":"rtl"===s&&e,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${c} ${c}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},h.map((t=>n("path","string"==typeof t?{d:t}:{d:t.d,opacity:"opacity"in t?t.opacity:1})))))}async loadIconPathData(){const{icon:t,scale:e,visible:n}=this;t&&n&&(this.pathData=await async function({icon:t,scale:e}){const n=zt[e],i=function(t){const e=!isNaN(Number(t.charAt(0))),n=t.split("-");if(n.length>0){const e=/[a-z]/i;t=n.map(((t,n)=>t.replace(e,(function(t,e){return 0===n&&0===e?t:t.toUpperCase()})))).join("")}return e?`i${t}`:t}(t),a="F"===i.charAt(i.length-1),o=`${a?i.substring(0,i.length-1):i}${n}${a?"F":""}`;if(xt[o])return xt[o];_t[o]||(_t[o]=fetch(r(`./assets/icon/${o}.json`)).then((t=>t.json())).catch((()=>(console.error(`"${o}" is not a valid calcite-ui-icon name`),""))));const s=await _t[o];return xt[o]=s,s}({icon:t,scale:e}))}waitUntilVisible(t){this.intersectionObserver=I("intersection",(e=>{e.forEach((e=>{e.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,t())}))}),{rootMargin:"50px"}),this.intersectionObserver?this.intersectionObserver.observe(this.el):t()}static get assetsDirs(){return["assets"]}get el(){return a(this)}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}};Et.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{display:inline-flex;color:var(--calcite-ui-icon-color)}:host([scale=s]){block-size:1rem;inline-size:1rem;min-inline-size:1rem;min-block-size:1rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem;min-inline-size:1.5rem;min-block-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem;min-inline-size:2rem;min-block-size:2rem}.flip-rtl{transform:scaleX(-1)}.svg{display:block}";let Ot=class{constructor(e){t(this,e),this.inline=!1,this.label=void 0,this.scale="m",this.type=void 0,this.value=0,this.text=""}render(){const{el:t,inline:e,label:a,scale:r,text:o,type:s,value:c}=this,l=t.id||$(),h=e?this.getInlineSize(r):this.getSize(r),d=.45*h,u=`0 0 ${h} ${h}`,p="determinate"===s,m=2*d*Math.PI,b=c/100*m,g=m-b,f=Math.floor(c),v={r:d,cx:h/2,cy:h/2},k={"stroke-dasharray":`${b} ${g}`};return n(i,Object.assign({"aria-label":a,id:l,role:"progressbar"},p?{"aria-valuenow":f,"aria-valuemin":0,"aria-valuemax":100,complete:100===f}:{}),n("div",{class:"loader__svgs"},n("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--1",viewBox:u},n("circle",Object.assign({},v))),n("svg",{"aria-hidden":"true",class:"loader__svg loader__svg--2",viewBox:u},n("circle",Object.assign({},v))),n("svg",Object.assign({"aria-hidden":"true",class:"loader__svg loader__svg--3",viewBox:u},p?{style:k}:{}),n("circle",Object.assign({},v)))),o&&n("div",{class:"loader__text"},o),p&&n("div",{class:"loader__percentage"},c))}getSize(t){return{s:32,m:56,l:80}[t]}getInlineSize(t){return{s:12,m:16,l:20}[t]}get el(){return a(this)}};Ot.style='@charset "UTF-8";@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:calc(150ms * var(--calcite-internal-duration-factor));--calcite-internal-duration-factor:var(--calcite-duration-factor, 1);--calcite-internal-animation-timing-fast:calc(100ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-medium:calc(200ms * var(--calcite-internal-duration-factor));--calcite-internal-animation-timing-slow:calc(300ms * var(--calcite-internal-duration-factor))}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:root{--calcite-floating-ui-transition:var(--calcite-animation-timing);--calcite-floating-ui-z-index:600}:host([hidden]){display:none}:host{position:relative;margin-inline:auto;display:none;align-items:center;justify-content:center;opacity:1;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke:var(--calcite-ui-brand);stroke-width:3;fill:none;transform:scale(1, 1);animation:loader-color-shift calc(var(--calcite-internal-animation-timing-slow) * 2) alternate-reverse infinite linear;padding-block:var(--calcite-loader-padding, 4rem)}:host([scale=s]){--calcite-loader-font-size:var(--calcite-font-size--2);--calcite-loader-size:2rem;--calcite-loader-size-inline:0.75rem}:host([scale=m]){--calcite-loader-font-size:var(--calcite-font-size-0);--calcite-loader-size:4rem;--calcite-loader-size-inline:1rem}:host([scale=l]){--calcite-loader-font-size:var(--calcite-font-size-2);--calcite-loader-size:6rem;--calcite-loader-size-inline:1.5rem}:host([no-padding]){padding-block:0px}:host{display:flex}.loader__text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-ui-text-1);-webkit-margin-before:calc(var(--calcite-loader-size) + 1.5rem);margin-block-start:calc(var(--calcite-loader-size) + 1.5rem)}.loader__percentage{position:absolute;display:block;text-align:center;color:var(--calcite-ui-text-1);font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size);inset-inline-start:50%;-webkit-margin-start:calc(var(--calcite-loader-size) / 2 * -1);margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);line-height:0.25;transform:scale(1, 1)}.loader__svgs{position:absolute;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);inset-inline-start:50%;-webkit-margin-start:calc(var(--calcite-loader-size) / 2 * -1);margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);transform:scale(1, 1)}.loader__svg{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);animation-iteration-count:infinite;animation-timing-function:linear;animation-name:loader-clockwise}@supports (display: grid){.loader__svg--1{animation-name:loader-offset-1}.loader__svg--2{animation-name:loader-offset-2}.loader__svg--3{animation-name:loader-offset-3}}:host([type=determinate]){animation:none;stroke:var(--calcite-ui-border-3)}:host([type=determinate]) .loader__svg--3{animation:none;stroke:var(--calcite-ui-brand);stroke-dasharray:150.79632;transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([inline]){position:relative;margin:0px;animation:none;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size-inline);min-block-size:var(--calcite-loader-size-inline);inline-size:var(--calcite-loader-size-inline);-webkit-margin-end:calc(var(--calcite-loader-size-inline) * 0.5);margin-inline-end:calc(var(--calcite-loader-size-inline) * 0.5);vertical-align:calc(var(--calcite-loader-size-inline) * -1 * 0.2)}:host([inline]) .loader__svgs{inset-block-start:0px;margin:0px;inset-inline-start:0;inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([inline]) .loader__svg{inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([complete]){opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms}:host([complete]) .loader__svgs{opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms}:host([complete]) .loader__percentage{color:var(--calcite-ui-brand);transform:scale(1.05, 1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear}.loader__svg--1{stroke-dasharray:27.9252444444% 139.6262222222%;animation-duration:calc(var(--calcite-internal-animation-timing-slow) * 2.4)}@keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-83.7757333333%}100%{stroke-dasharray:27.9252444444% 251.3272%;stroke-dashoffset:-279.2524444444%}}.loader__svg--2{stroke-dasharray:55.8504888889% 139.6262222222%;animation-duration:calc(var(--calcite-internal-animation-timing-slow) * 3.2)}@keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-97.7383555556%}100%{stroke-dasharray:55.8504888889% 223.4019555556%;stroke-dashoffset:-279.2524444444%}}.loader__svg--3{stroke-dasharray:13.9626222222% 139.6262222222%;animation-duration:calc(var(--calcite-internal-animation-timing-slow) * 3.867)}@keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222% 139.6262222222%;stroke-dashoffset:-76.7944222222%}100%{stroke-dasharray:13.9626222222% 265.2898222222%;stroke-dashoffset:-279.2524444444%}}@keyframes loader-color-shift{0%{stroke:var(--calcite-ui-brand)}33%{stroke:var(--calcite-ui-brand-press)}66%{stroke:var(--calcite-ui-brand-hover)}100%{stroke:var(--calcite-ui-brand)}}@keyframes loader-clockwise{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}';let Tt=class{constructor(e){t(this,e),this.group=null,this.match=null,this.componentProps={},this.exact=!1,this.scrollOnNextRender=!1,this.previousMatch=null}computeMatch(t){const e=null!=this.group||null!=this.el.parentElement&&"stencil-route-switch"===this.el.parentElement.tagName.toLowerCase();if(t&&!e)return this.previousMatch=this.match,this.match=at(t.pathname,{path:this.url,exact:this.exact,strict:!0})}async loadCompleted(){let t={};var e,n;this.history&&this.history.location.hash?t={scrollToId:this.history.location.hash.substr(1)}:this.scrollTopOffset&&(t={scrollTopOffset:this.scrollTopOffset}),"function"==typeof this.componentUpdated?this.componentUpdated(t):!this.match||(n=this.previousMatch,null==(e=this.match)&&null==n||null!=n&&e&&n&&e.path===n.path&&e.url===n.url&&tt(e.params,n.params))||!this.routeViewsUpdated||this.routeViewsUpdated(t)}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history)return null;const t=Object.assign({},this.componentProps,{history:this.history,match:this.match});return this.routeRender?this.routeRender(Object.assign({},t,{component:this.component})):this.component?n(this.component,Object.assign({},t)):void 0}get el(){return a(this)}static get watchers(){return{location:["computeMatch"]}}};L.injectProps(Tt,["location","history","historyType","routeViewsUpdated"]),Tt.style="stencil-route.inactive{display:none}";const St=(t,e,n)=>n(t.confirm(e)),Dt=(t,e)=>{const n=t[e],i="__storage_test__";try{return n.setItem(i,i),n.removeItem(i),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==n.length}};let Ct=class{constructor(e){t(this,e),this.unsubscribe=()=>{},this.activeClass="link-active",this.exact=!1,this.strict=!0,this.custom="a",this.match=null}componentWillLoad(){this.computeMatch()}computeMatch(){this.location&&(this.match=at(this.location.pathname,{path:this.urlMatch||this.url,exact:this.exact,strict:this.strict}))}handleClick(t){var e,n,i;if(!((e=t).metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&this.history&&this.url&&this.root)return t.preventDefault(),this.history.push((i=this.root,"/"==(n=this.url).charAt(0)&&"/"==i.charAt(i.length-1)?i.slice(0,i.length-1)+n:i+n))}render(){let t={class:{[this.activeClass]:null!==this.match},onClick:this.handleClick.bind(this)};return this.anchorClass&&(t.class[this.anchorClass]=!0),"a"===this.custom&&(t=Object.assign({},t,{href:this.url,title:this.anchorTitle,role:this.anchorRole,tabindex:this.anchorTabIndex,"aria-haspopup":this.ariaHaspopup,id:this.anchorId,"aria-posinset":this.ariaPosinset,"aria-setsize":this.ariaSetsize,"aria-label":this.ariaLabel})),n(this.custom,Object.assign({},t),n("slot",null))}get el(){return a(this)}static get watchers(){return{location:["computeMatch"]}}};L.injectProps(Ct,["history","location","root"]);const Pt=t=>"STENCIL-ROUTE"===t.tagName;let It=class{constructor(e){t(this,e),this.group=((1e17*Math.random()).toString().match(/.{4}/g)||[]).join("-"),this.subscribers=[],this.queue=o(this,"queue")}componentWillLoad(){null!=this.location&&this.regenerateSubscribers(this.location)}async regenerateSubscribers(t){if(null==t)return;let e=-1;if(this.subscribers=Array.prototype.slice.call(this.el.children).filter(Pt).map(((n,i)=>{const a=at(t.pathname,{path:n.url,exact:n.exact,strict:!0});return a&&-1===e&&(e=i),{el:n,match:a}})),-1===e)return;if(this.activeIndex===e)return void(this.subscribers[e].el.match=this.subscribers[e].match);this.activeIndex=e;const n=this.subscribers[this.activeIndex];this.scrollTopOffset&&(n.el.scrollTopOffset=this.scrollTopOffset),n.el.group=this.group,n.el.match=n.match,n.el.componentUpdated=t=>{this.queue.write((()=>{this.subscribers.forEach(((t,e)=>{if(t.el.componentUpdated=void 0,e===this.activeIndex)return t.el.style.display="";this.scrollTopOffset&&(t.el.scrollTopOffset=this.scrollTopOffset),t.el.group=this.group,t.el.match=null,t.el.style.display="none"}))})),this.routeViewsUpdated&&this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))}}render(){return n("slot",null)}get el(){return a(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};L.injectProps(It,["location","routeViewsUpdated"]);const jt=(t,...e)=>{t||console.warn(...e)},At=()=>{let t,e=[];return{setPrompt:e=>(jt(null==t,"A history supports only one prompt at a time"),t=e,()=>{t===e&&(t=null)}),confirmTransitionTo:(e,n,i,a)=>{if(null!=t){const r="function"==typeof t?t(e,n):t;"string"==typeof r?"function"==typeof i?i(r,a):(jt(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),a(!0)):a(!1!==r)}else a(!0)},appendListener:t=>{let n=!0;const i=(...e)=>{n&&t(...e)};return e.push(i),()=>{n=!1,e=e.filter((t=>t!==i))}},notifyListeners:(...t)=>{e.forEach((e=>e(...t)))}}},Rt=(t,e="scrollPositions")=>{let n=new Map;const i=(e,i)=>{if(n.set(e,i),Dt(t,"sessionStorage")){const e=[];n.forEach(((t,n)=>{e.push([n,t])})),t.sessionStorage.setItem("scrollPositions",JSON.stringify(e))}};if(Dt(t,"sessionStorage")){const i=t.sessionStorage.getItem(e);n=i?new Map(JSON.parse(i)):n}return"scrollRestoration"in t.history&&(history.scrollRestoration="manual"),{set:i,get:t=>n.get(t),has:t=>n.has(t),capture:e=>{i(e,[t.scrollX,t.scrollY])}}},Ut={hashbang:{encodePath:t=>"!"===t.charAt(0)?t:"!/"+V(t),decodePath:t=>"!"===t.charAt(0)?t.substr(1):t},noslash:{encodePath:V,decodePath:X},slash:{encodePath:X,decodePath:X}},$t=(t,e)=>{const n=0==t.pathname.indexOf(e)?"/"+t.pathname.slice(e.length):t.pathname;return Object.assign({},t,{pathname:n})},Lt={browser:(t,e={})=>{let n=!1;const i=t.history,a=t.location,r=t.navigator,o=(t=>{const e=t.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&t.history&&"pushState"in t.history})(t),s=!(-1===r.userAgent.indexOf("Trident")),c=Rt(t),l=null!=e.forceRefresh&&e.forceRefresh,h=null!=e.getUserConfirmation?e.getUserConfirmation:St,d=null!=e.keyLength?e.keyLength:6,u=e.basename?B(X(e.basename)):"",p=()=>{try{return t.history.state||{}}catch(t){return{}}},m=t=>{t=t||{};const{key:e,state:n}=t,{pathname:i,search:r,hash:o}=a;let s=i+r+o;return jt(!u||W(s,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+s+'" to begin with "'+u+'".'),u&&(s=J(s,u)),et(s,n,e||K(d))},b=At(),g=t=>{c.capture(S.location.key),Object.assign(S,t),S.location.scrollPosition=c.get(S.location.key),S.length=i.length,b.notifyListeners(S.location,S.action)},f=t=>{((t,e)=>void 0===e.state&&-1===t.userAgent.indexOf("CriOS"))(r,t)||k(m(t.state))},v=()=>{k(m(p()))},k=t=>{if(n)n=!1,g();else{const e="POP";b.confirmTransitionTo(t,e,h,(n=>{n?g({action:e,location:t}):w(t)}))}},w=t=>{let e=x.indexOf(S.location.key),i=x.indexOf(t.key);-1===e&&(e=0),-1===i&&(i=0);const a=e-i;a&&(n=!0,O(a))},y=m(p());let x=[y.key],_=0,z=!1;const E=t=>u+Y(t),O=t=>{i.go(t)},T=e=>{_+=e,1===_?(t.addEventListener("popstate",f),s&&t.addEventListener("hashchange",v)):0===_&&(t.removeEventListener("popstate",f),s&&t.removeEventListener("hashchange",v))},S={length:i.length,action:"POP",location:y,createHref:E,push:(t,e)=>{jt(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");const n="PUSH",r=et(t,e,K(d),S.location);b.confirmTransitionTo(r,n,h,(t=>{if(!t)return;const e=E(r),{key:s,state:c}=r;if(o)if(i.pushState({key:s,state:c},"",e),l)a.href=e;else{const t=x.indexOf(S.location.key),e=x.slice(0,-1===t?0:t+1);e.push(r.key),x=e,g({action:n,location:r})}else jt(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),a.href=e}))},replace:(t,e)=>{jt(!("object"==typeof t&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");const n="REPLACE",r=et(t,e,K(d),S.location);b.confirmTransitionTo(r,n,h,(t=>{if(!t)return;const e=E(r),{key:s,state:c}=r;if(o)if(i.replaceState({key:s,state:c},"",e),l)a.replace(e);else{const t=x.indexOf(S.location.key);-1!==t&&(x[t]=r.key),g({action:n,location:r})}else jt(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),a.replace(e)}))},go:O,goBack:()=>O(-1),goForward:()=>O(1),block:(t="")=>{const e=b.setPrompt(t);return z||(T(1),z=!0),()=>(z&&(z=!1,T(-1)),e())},listen:t=>{const e=b.appendListener(t);return T(1),()=>{T(-1),e()}},win:t};return S},hash:(t,e={})=>{let n=!1,i=null,a=0,r=!1;const o=t.location,s=t.history,c=-1===t.navigator.userAgent.indexOf("Firefox"),l=null!=e.keyLength?e.keyLength:6,{getUserConfirmation:h=St,hashType:d="slash"}=e,u=e.basename?B(X(e.basename)):"",{encodePath:p,decodePath:m}=Ut[d],b=()=>{const t=o.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},g=t=>{const e=o.href.indexOf("#");o.replace(o.href.slice(0,e>=0?e:0)+"#"+t)},f=()=>{let t=m(b());return jt(!u||W(t,u),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+u+'".'),u&&(t=J(t,u)),et(t,void 0,K(l))},v=At(),k=t=>{Object.assign(D,t),D.length=s.length,v.notifyListeners(D.location,D.action)},w=()=>{const t=b(),e=p(t);if(t!==e)g(e);else{const t=f(),e=D.location;if(!n&&(a=e).pathname===(r=t).pathname&&a.search===r.search&&a.hash===r.hash&&a.key===r.key&&tt(a.state,r.state))return;if(i===Y(t))return;i=null,y(t)}var a,r},y=t=>{if(n)n=!1,k();else{const e="POP";v.confirmTransitionTo(t,e,h,(n=>{n?k({action:e,location:t}):x(t)}))}},x=t=>{let e=O.lastIndexOf(Y(D.location)),i=O.lastIndexOf(Y(t));-1===e&&(e=0),-1===i&&(i=0);const a=e-i;a&&(n=!0,T(a))},_=b(),z=p(_);_!==z&&g(z);const E=f();let O=[Y(E)];const T=t=>{jt(c,"Hash history go(n) causes a full page reload in this browser"),s.go(t)},S=(t,e)=>{a+=e,1===a?t.addEventListener("hashchange",w):0===a&&t.removeEventListener("hashchange",w)},D={length:s.length,action:"POP",location:E,createHref:t=>"#"+p(u+Y(t)),push:(t,e)=>{jt(void 0===e,"Hash history cannot push state; it is ignored");const n="PUSH",a=et(t,void 0,K(l),D.location);v.confirmTransitionTo(a,n,h,(t=>{if(!t)return;const e=Y(a),r=p(u+e);if(b()!==r){i=e,(t=>{o.hash=t})(r);const t=O.lastIndexOf(Y(D.location)),s=O.slice(0,-1===t?0:t+1);s.push(e),O=s,k({action:n,location:a})}else jt(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),k()}))},replace:(t,e)=>{jt(void 0===e,"Hash history cannot replace state; it is ignored");const n="REPLACE",a=et(t,void 0,K(l),D.location);v.confirmTransitionTo(a,n,h,(t=>{if(!t)return;const e=Y(a),r=p(u+e);b()!==r&&(i=e,g(r));const o=O.indexOf(Y(D.location));-1!==o&&(O[o]=e),k({action:n,location:a})}))},go:T,goBack:()=>T(-1),goForward:()=>T(1),block:(e="")=>{const n=v.setPrompt(e);return r||(S(t,1),r=!0),()=>(r&&(r=!1,S(t,-1)),n())},listen:e=>{const n=v.appendListener(e);return S(t,1),()=>{S(t,-1),n()}},win:t};return D}};let Mt=class{constructor(e){t(this,e),this.root="/",this.historyType="browser",this.titleSuffix="",this.routeViewsUpdated=(t={})=>{if(this.history&&t.scrollToId&&"browser"===this.historyType){const e=this.history.win.document.getElementById(t.scrollToId);if(e)return e.scrollIntoView()}this.scrollTo(t.scrollTopOffset||this.scrollTopOffset)},this.isServer=o(this,"isServer"),this.queue=o(this,"queue")}componentWillLoad(){this.history=Lt[this.historyType](this.el.ownerDocument.defaultView),this.history.listen((t=>{t=$t(t,this.root),this.location=t})),this.location=$t(this.history.location,this.root)}scrollTo(t){const e=this.history;if(null!=t&&!this.isServer&&e)return"POP"===e.action&&Array.isArray(e.location.scrollPosition)?this.queue.write((()=>{e&&e.location&&Array.isArray(e.location.scrollPosition)&&e.win.scrollTo(e.location.scrollPosition[0],e.location.scrollPosition[1])})):this.queue.write((()=>{e.win.scrollTo(0,t)}))}render(){if(this.location&&this.history)return n(L.Provider,{state:{historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated}},n("slot",null))}get el(){return a(this)}};export{ut as app_root,wt as arcgis_app_identity,yt as calcite_button,Et as calcite_icon,Ot as calcite_loader,Tt as stencil_route,Ct as stencil_route_link,It as stencil_route_switch,Mt as stencil_router}