import{r as e,c as t,h as i,F as r,H as o,g as a}from"./p-a7bcab11.js";import{b as n}from"./p-fd260f2d.js";import{i as s}from"./p-d8201573.js";import{d as l}from"./p-5cd57599.js";import{g as c}from"./p-da9f16ff.js";import"./p-dfe5a97d.js";let p=class{constructor(i){e(this,i),this.hubTelemetry=t(this,"hubTelemetry",7),n(this,"handlePopoverOpened","handleGoToProfile","emitHubTelemetry")}async componentWillLoad(){this.intl=await s.loadIntlForComponent(this.element)}emitHubTelemetry(e){const{postId:t,parentId:i,channelId:r,channelAccess:o,index:a}=this;this.hubTelemetry.emit(Object.assign(Object.assign({},e),{postId:t,parentId:i,channelId:r,channelAccess:o,position:a}))}handlePopoverOpened(){this.emitHubTelemetry(l.dictionary.category.interaction.action.open.label.popover.details.details)}handleGoToProfile(){this.emitHubTelemetry(l.dictionary.category.navigation.action.view.label.users.details.profile)}renderCreatorAvatar(){const{username:e,fullName:t,thumbnail:r,portal:o,token:a,userId:n,access:s}=this;return i("calcite-avatar",{"full-name":t,scale:"l",thumbnail:r&&c(o,{username:e,access:s,thumbnail:r},a),"user-id":n,username:e})}renderCreatorDetails(){const{intl:e,username:t,fullName:o}=this;let a=e.t("anonymous"),n=e.t("noUser");return t&&(a=o||e.t("privateUser"),n=t),i(r,null,i("b",null,a),i("span",null,n))}renderCreatorExpandedDetails(){const{intl:e,region:t,organization:o,username:a,isHub:n}=this;if(t){const s=e.formatDisplayName(t.toLocaleUpperCase(),{type:"region"});return i(r,null,i("div",null,i("calcite-icon",{icon:"organization",scale:"s","text-label":e.t("orgLabel")}),o||e.t("privateOrg")),i("div",null,i("calcite-icon",{icon:"pin",scale:"s","text-label":e.t("location")}),s),n&&i("calcite-button",{appearance:"outline",color:"neutral",href:"/people/"+a,label:e.t("profile"),onClick:this.handleGoToProfile,round:!0,scale:"l",width:"full"},e.t("profile")))}}renderPostDetails(){const{intl:e,creatorUsername:t}=this;return i("footer",null,i("div",null,i("calcite-icon",{icon:"speech-bubbles",scale:"s"}),i("span",null,e.t("mentionedBy",{username:t}))))}render(){const{intl:e}=this;return i(o,{"data-element":"discussions-mention-popover"},this.buttonEl&&i("calcite-popover",{autoClose:!0,label:e.t("information"),placement:"top",referenceElement:this.buttonEl},i("div",{class:"popover-body"},i("address",null,this.renderCreatorAvatar(),this.renderCreatorDetails()),this.renderCreatorExpandedDetails()),this.renderPostDetails()),i("button",{ref:e=>{this.buttonEl=e},type:"button"},i("slot",null)))}static get assetsDirs(){return["locales"]}get element(){return a(this)}};p.style=":host{display:inline-block}::slotted(calcite-link){font-size:var(--calcite-font-size-0) !important;line-height:1.25rem !important}calcite-popover{width:20rem}button{grid-row:span 2 / span 2;cursor:pointer;border-style:none;background-color:transparent;padding:0px}address{margin:0px;margin-bottom:1.5rem;display:grid;-moz-column-gap:0.75rem;column-gap:0.75rem;row-gap:0px;font-style:normal;grid-template-columns:44px auto}address:last-child{margin:0px}calcite-avatar{grid-row:span 2 / span 2;height:2.75rem;width:2.75rem}address calcite-icon{grid-row:span 2 / span 2;height:2.75rem;width:2.75rem}address b{font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-ui-text-1)}address span{font-size:var(--calcite-font-size--1);line-height:1rem;color:var(--calcite-ui-text-2)}address span:before{content:'@'}calcite-icon{margin-top:1px;margin-bottom:1px}.popover-body{margin:0px;padding:0.75rem}.popover-body div{margin-bottom:0.5rem;display:flex;align-items:flex-start;gap:0.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-ui-text-2)}.popover-body div+div{margin-bottom:1rem}.popover-body div+div:last-child{margin:0px}footer{padding:0.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;color:var(--calcite-ui-text-1);background-color:var(--calcite-ui-background)}footer div{margin:0px;margin-bottom:0.5rem;display:flex;align-items:flex-start;gap:0.5rem}footer div:nth-of-type(3){margin-bottom:1rem}footer div:last-child{margin:0px}";export{p as arcgis_hub_discussions_mention_popover}