import{r as t,c as o,h as s,H as i,g as e}from"./p-a7bcab11.js";import{b as a}from"./p-fd260f2d.js";import{i as c}from"./p-d8201573.js";import{d as n}from"./p-5cd57599.js";import{watch as m}from"@arcgis/core/core/watchUtils.js";import h from"@arcgis/core/widgets/Zoom/ZoomViewModel.js";import{l as r}from"./p-c57d2d2f.js";import"./p-dfe5a97d.js";import"@arcgis/core/kernel.js";let d=class{constructor(s){t(this,s),this.hubTelemetry=o(this,"hubTelemetry",7),this.scale="m",this.handles=[],a(this,"zoomIn","zoomOut","updateCanZoomIn","updateCanZoomOut")}async componentWillLoad(){const{el:t}=this;this.intl=await c.loadIntlForComponent(t),await this.connectViewModel(),this.connectWatch(),r()}connectedCallback(){this.connectWatch()}disconnectedCallback(){this.removeWatch()}handleViewChange(t,o){t&&t!==o&&(this.removeWatch(),this.connectViewModel().then((()=>{this.connectWatch()})))}connectWatch(){const{view:t,handles:o,zoomViewModel:s}=this;t&&s&&o.push(m(s,"canZoomIn",this.updateCanZoomIn),m(s,"canZoomOut",this.updateCanZoomOut))}removeWatch(){const{handles:t}=this;t.forEach((t=>{t.remove()})),this.handles=[]}async connectViewModel(){const{view:t,zoomViewModel:o}=this;if(t&&!o){await t.when(),this.zoomViewModel=new h({view:t});const{canZoomIn:o,canZoomOut:s}=this.zoomViewModel;this.canZoomIn=o,this.canZoomOut=s}}updateCanZoomIn(t){this.canZoomIn=t}updateCanZoomOut(t){this.canZoomOut=t}zoomIn(){const{zoomViewModel:t,canZoomIn:o,view:s}=this;t&&o&&(t.zoomIn(),this.hubTelemetry.emit(Object.assign(Object.assign({},n.dictionary.category.interaction.action.zoom.label.in),{details:s.zoom})))}zoomOut(){const{zoomViewModel:t,canZoomOut:o,view:s}=this;t&&o&&(this.zoomViewModel.zoomOut(),this.hubTelemetry.emit(Object.assign(Object.assign({},n.dictionary.category.interaction.action.zoom.label.out),{details:s.zoom})))}render(){const{zoomIn:t,zoomOut:o,canZoomIn:e,canZoomOut:a,scale:c}=this,n=this.intl.t("zoomIn"),m=this.intl.t("zoomOut");return s(i,{"data-element":"map-widget-zoom"},s("arcgis-hub-map-widget-generic",{disabled:!e,icon:"plus",onClick:t,scale:c,text:n}),s("arcgis-hub-map-widget-generic",{disabled:!a,icon:"minus",onClick:o,scale:c,text:m}))}static get assetsDirs(){return["locales"]}get el(){return e(this)}static get watchers(){return{view:["handleViewChange"]}}};d.style="";export{d as arcgis_hub_map_widget_zoom}